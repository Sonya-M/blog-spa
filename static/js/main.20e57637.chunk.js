(this["webpackJsonpblog-sap"]=this["webpackJsonpblog-sap"]||[]).push([[0],{31:function(e,t,n){e.exports={loaderContainer:"LoaderRipple_loaderContainer__3Nr26","lds-ripple":"LoaderRipple_lds-ripple__1jKif"}},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){"use strict";n.r(t);var i=n(1),s=n(33),c=n.n(s),o=n(7),r=n(32),a=n(9),u=n(8),l=n(67),d=n(2),h=n(34),j=n(62),b=n(63);var m=n(0);function p(e){var t,n,i=e.post;return Object(m.jsxs)(h.a,{children:[Object(m.jsx)(o.b,{to:"/posts/"+i.id,children:Object(m.jsx)("p",{className:"display-6",children:i.title})}),Object(m.jsx)("p",{children:(t=i.body,n=40,t.substring(0,Math.min(t.length,n))+"...")}),Object(m.jsxs)("p",{children:["Author ID: ",i.authorId]}),Object(m.jsx)(o.b,{to:"/new/"+i.id,children:Object(m.jsx)(j.a,{size:"sm",className:"btn btn-primary",children:"Edit"})})," ",Object(m.jsx)(j.a,{className:"btn-danger btn-sm",onClick:function(){return e.onDelete(i.id)},children:"Delete"})," ",Object(m.jsx)(f,{onLike:e.onLike,color:i.isLiked()?"plum":"lightgray"})]})}var f=function(e){var t={color:e.color};return Object(m.jsx)("span",{children:Object(m.jsx)(b.a,{size:"2rem",onClick:e.onLike,style:Object(d.a)(Object(d.a)({},{cursor:"pointer"}),t)})})};n(53);function O(e){var t=function(t){e.onDelete(t)};return Object(m.jsxs)("div",{className:"Home",children:[Object(m.jsx)("h1",{className:"display-3 text-center",children:"All Posts"}),Object(m.jsx)(l.a,{children:e.posts.map((function(n){return Object(m.jsx)(p,{post:n,onDelete:t,onLike:function(){return t=n.id,void e.onLike(t);var t}},n.id)}))})]})}n(54);function x(e){return Object(m.jsxs)("div",{className:"About m-5",children:[Object(m.jsx)("h1",{className:"display-4",children:"About"}),Object(m.jsx)("p",{children:"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Labore dignissimos modi, similique necessitatibus reprehenderit odit minima vero enim ipsum quod quidem natus corporis? Rem quibusdam praesentium, dolorem quod accusantium repellendus! Lorem ipsum dolor sit amet consectetur, adipisicing elit. Voluptatum nihil ducimus accusamus odio quam minima provident at, delectus aut recusandae cum accusantium et. Cumque dignissimos magni facere nam beatae voluptatum. Illum voluptate minima voluptas ad provident alias quo repellendus dignissimos, natus placeat amet? Facilis laboriosam praesentium minima itaque voluptatem maiores, officia consequatur voluptates! Repellendus officiis totam magnam officia, alias iure. Officiis natus nesciunt, fugit similique ex cumque amet mollitia necessitatibus dignissimos sunt culpa nostrum impedit quisquam eligendi officia velit delectus deserunt totam corporis quis iste facilis harum commodi! Quas, hic?"}),Object(m.jsx)("h2",{className:"display-6",children:"What we do"}),Object(m.jsx)("p",{children:"Ex dolor maiores nemo beatae libero ipsum, laboriosam iure obcaecati commodi natus cumque id eos atque quo? Saepe doloremque eaque, provident aperiam laudantium architecto! Optio nobis voluptas asperiores nihil sint! Maxime, quisquam libero? Sit nam obcaecati vel ipsa porro repudiandae, neque quasi laboriosam. Iure iste mollitia eligendi, distinctio necessitatibus saepe minima at blanditiis expedita perspiciatis odit, iusto sed tenetur molestiae!"})]})}var y=n(15),g=n(66);function v(e){var t=Object(u.g)(),n=Object(u.h)().id,s=e.posts.find((function(e){return e.id===+n})),c=s?{authorId:s.authorId,title:s.title,body:s.body}:{authorId:"",title:"",body:""},o=Object(i.useState)(c),r=Object(a.a)(o,2),l=r[0],h=r[1],j=Object(i.useState)(""),b=Object(a.a)(j,2),p=b[0],f=b[1],O=function(e){var t=e.target,n=t.name,i=t.value;h(Object(d.a)(Object(d.a)({},l),{},Object(y.a)({},n,i)))};return Object(m.jsxs)("div",{className:"m-5",children:[Object(m.jsx)("h1",{className:"display-3 text-center",children:"New Post"}),Object(m.jsxs)("form",{onSubmit:function(i){i.preventDefault(),l.title&&l.body&&l.authorId?e.validator(+l.authorId)?(e.onAddPost(Object(d.a)(Object(d.a)({},l),{},{id:+n,authorId:+l.authorId})),t.push("/")):f("Invalid author ID!"):f("Please fill out all the fields!")},children:[Object(m.jsx)(g.a.Control,{className:"m-2",type:"number",name:"authorId",value:l.authorId,placeholder:"Author id",onChange:O}),Object(m.jsx)(g.a.Control,{className:"m-2",type:"text",name:"title",value:l.title,placeholder:"Title",onChange:O}),Object(m.jsx)(g.a.Control,{className:"m-2",as:"textarea",rows:"10",name:"body",value:l.body,placeholder:"Content",onChange:O}),Object(m.jsx)("p",{children:p}),Object(m.jsx)("button",{className:"btn btn-primary m-2",children:"Submit"})]})]})}function k(e){var t=e.allPosts;return t&&0!==t.length?Object(m.jsxs)("div",{className:"mt-4",children:[Object(m.jsx)("h5",{children:t.length+" more posts from the same author"}),t.map((function(e){return Object(m.jsx)(o.b,{to:"/posts/"+e.id,children:Object(m.jsxs)("p",{children:[e.title," "]})},e.id)}))]}):Object(m.jsx)(i.Fragment,{})}function N(e){return Object(m.jsxs)("div",{className:"PostDiv text-center",children:[Object(m.jsx)("h1",{className:"display-6",children:e.selectedPost.title}),Object(m.jsx)(o.b,{to:"/authors/"+e.author.id,children:Object(m.jsx)("h6",{children:e.author.name})}),Object(m.jsx)("div",{children:e.selectedPost.body})]})}function _(e){var t=e.text,n=e.path,i=Object(u.g)();return Object(m.jsx)(j.a,{className:"btn-dark m-2",onClick:function(){i.push(n)},children:t})}function I(e){var t=Object(u.h)().id,n=parseInt(t),i=e.posts.find((function(e){return e.id===n})),s=e.authors.find((function(e){return e.id===i.authorId})),c=e.posts.filter((function(e){return e.authorId===s.id&&e.id!==n}));return Object(m.jsxs)("div",{className:"SinglePost m-3",children:[Object(m.jsx)(_,{text:"Back to all posts",path:"/posts"}),Object(m.jsx)(N,{selectedPost:i,author:s,posts:e.posts}),Object(m.jsx)(k,{allPosts:c})]})}n(55);function A(e){return Object(m.jsxs)("div",{className:"Authors",children:[Object(m.jsx)("h1",{className:"display-3 text-center",children:"All Authors"}),Object(m.jsx)(l.a,{children:e.authors.map((function(e){return Object(m.jsx)(q,{name:e.name,id:e.id},e.id)}))})]})}var q=function(e){var t="/authors/"+e.id;return Object(m.jsx)(h.a,{children:Object(m.jsx)(o.b,{to:t,children:Object(m.jsx)("p",{className:"display-6",children:e.name})})})};function w(e){var t=Object(u.h)().id,n=parseInt(t),i=e.authors.find((function(e){return e.id===n}));return Object(m.jsxs)("div",{className:"m-3",children:[Object(m.jsx)(_,{text:"Back to all authors",path:"/authors"}),Object(m.jsx)("h1",{children:i.name}),Object(m.jsxs)(l.a,{children:[Object(m.jsxs)(h.a,{children:["username: ",i.username]}),Object(m.jsxs)(h.a,{children:["email: ",i.email]}),Object(m.jsxs)(h.a,{children:["phone: ",i.phone]})]}),Object(m.jsxs)("div",{className:"Address",children:[Object(m.jsx)("h4",{children:"Address"}),Object(m.jsxs)(l.a,{children:[Object(m.jsxs)(h.a,{children:["street: ",i.street]}),Object(m.jsxs)(h.a,{children:["city: ",i.city]}),Object(m.jsxs)(h.a,{children:["zipcode: ",i.zipcode]})]}),Object(m.jsx)(P,{street:i.street,latitude:i.latitude,longitude:i.longitude})]}),Object(m.jsxs)("div",{className:"Company",children:[Object(m.jsx)("h4",{children:"Company"}),Object(m.jsxs)(l.a,{children:[Object(m.jsxs)(h.a,{children:["name: ",i.companyName]}),Object(m.jsxs)(h.a,{children:["slogan: ",i.companySlogan]})]})]})]})}function P(e){return Object(m.jsx)("iframe",{width:"100%",height:"100%",scrolling:"no",marginHeight:"0",marginWidth:"0",title:e.street,frameBorder:"0",style:{border:0},src:"https://maps.google.com/maps?q=".concat(e.latitude,",").concat(e.longitude,"&z=15&output=embed")})}function C(){return Object(m.jsx)(o.b,{to:"/new/0",children:Object(m.jsx)(j.a,{className:"btn btn-info text-light m-1",children:" New Post"})})}n(56);var L=function(e){return Object(m.jsxs)("nav",{className:"BlogNav d-flex align-items-center justify-content-between",children:[Object(m.jsx)("span",{className:"mr-auto p-2",children:Object(m.jsx)(C,{})}),Object(m.jsxs)("div",{children:[Object(m.jsx)("span",{children:Object(m.jsx)(o.b,{to:"/posts",children:"Posts"})}),Object(m.jsx)("span",{children:Object(m.jsx)(o.b,{to:"/authors",children:"Authors"})}),Object(m.jsx)("span",{children:Object(m.jsx)(o.b,{to:"/about",children:"About"})})]})]})};n(57);var S=function(e){return Object(m.jsx)("footer",{className:"BlogFooter",children:"@"})},E=n(64);n(58);var D=function(e){return Object(m.jsxs)("div",{className:"ErrorDisplay",children:[Object(m.jsx)(E.a,{size:"10rem",className:"d-block mx-auto"}),Object(m.jsx)("h1",{className:"display-3 text-center",children:e.message})]})},z=n(13),J=n(14),T=function(){function e(t,n,i,s){Object(z.a)(this,e),this._authorId=t,this._title=n,this._body=i,this._id=s,this._liked=!1}return Object(J.a)(e,[{key:"authorId",get:function(){return this._authorId}},{key:"id",get:function(){return this._id}},{key:"title",get:function(){return this._title.trim().split(" ").map((function(e){return e[0].toUpperCase()+e.slice(1).toLowerCase()})).join(" ")}},{key:"body",get:function(){return this._body}},{key:"like",value:function(){this._liked=!0}},{key:"unlike",value:function(){this._liked=!1}},{key:"isLiked",value:function(){return this._liked}}]),e}(),R="https://jsonplaceholder.typicode.com/posts",B="https://jsonplaceholder.typicode.com/users",F=function(){function e(t,n,i,s,c,o,r,a,u,l,d,h){Object(z.a)(this,e),this._id=t,this._name=n,this._username=i,this._email=s,this._phone=c,this._street=o,this._city=r,this._zipcode=a,this._latitude=u,this._longitude=l,this._companyName=d,this._companySlogan=h}return Object(J.a)(e,[{key:"id",get:function(){return this._id}},{key:"name",get:function(){return this._name}},{key:"username",get:function(){return this._username}},{key:"email",get:function(){return this._email}},{key:"phone",get:function(){return this._phone}},{key:"street",get:function(){return this._street}},{key:"city",get:function(){return this._city}},{key:"zipcode",get:function(){return this._zipcode}},{key:"latitude",get:function(){return this._latitude}},{key:"longitude",get:function(){return this._longitude}},{key:"companyName",get:function(){return this._companyName}},{key:"companySlogan",get:function(){return this._companySlogan}}]),e}(),H=function(){function e(){Object(z.a)(this,e)}return Object(J.a)(e,null,[{key:"mapJsonToPost",value:function(e){return new T(e.userId,e.title,e.body,e.id)}},{key:"mapJsonToAuthor",value:function(e){return new F(e.id,e.name,e.username,e.email,e.phone,e.address.street,e.address.city,e.address.zipcode,e.address.geo.lat,e.address.geo.lng,e.company.name,e.company.catchPhrase)}}]),e}(),M=function(){function e(){Object(z.a)(this,e)}return Object(J.a)(e,null,[{key:"fetchAllPosts",value:function(){return fetch(R).then((function(e){if(e.ok)return e.json();throw new Error("Error! Response status: ".concat(e.status))})).then((function(e){return e.map((function(e){return H.mapJsonToPost(e)}))}))}},{key:"fetchAllAuthors",value:function(){return fetch(B).then((function(e){if(e.ok)return e.json();throw new Error("Error! Response status: ".concat(e.status))})).then((function(e){return e.map((function(e){return H.mapJsonToAuthor(e)}))}))}},{key:"createPost",value:function(e,t,n){return fetch(R,{method:"POST",body:JSON.stringify({title:e,body:t,userId:n}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(e){return console.log(e),H.mapJsonToPost(e)}))}},{key:"fetchAllPostsByAuthor",value:function(e){return fetch(R+"?userId="+e).then((function(e){if(e.ok)return e.json();throw new Error("Error! Response status: ".concat(e.status))})).then((function(e){return e.map((function(e){return H.mapJsonToPost(e)}))}))}},{key:"getAuthor",value:function(e){return fetch(B+"/"+e).then((function(e){if(e.ok)return e.json();throw new Error("Error! Response status: ".concat(e.status))})).then((function(e){return H.mapJsonToAuthor(e)}))}}]),e}(),U=n(31),W=n.n(U);function K(e){return Object(m.jsx)("div",{className:W.a.loaderContainer,children:Object(m.jsxs)("div",{className:W.a["lds-ripple"],children:[Object(m.jsx)("div",{}),Object(m.jsx)("div",{})]})})}var Q=n(65);n(59),n(60);var V=function(){var e=Object(i.useState)([]),t=Object(a.a)(e,2),n=t[0],s=t[1],c=Object(i.useState)([]),o=Object(a.a)(c,2),l=o[0],d=o[1];function h(e){return-1!==n.findIndex((function(t){return t.id===e}))}return Object(i.useEffect)((function(){M.fetchAllPosts().then((function(e){s(e)}))}),[]),Object(i.useEffect)((function(){M.fetchAllAuthors().then((function(e){d(e)}))}),[]),l&&0!==l.length&&n&&0!==n.length?Object(m.jsxs)(Q.a,{fluid:!0,id:"blog-sap",children:[Object(m.jsx)(L,{}),Object(m.jsxs)(u.d,{children:[Object(m.jsx)(u.b,{exact:!0,path:"/",children:Object(m.jsx)(O,{posts:n,onDelete:function(e){console.assert(h(+e)),s(n.filter((function(t){return t.id!==+e})))},onLike:function(e){console.assert(h(e)),s(n.map((function(t){return t.id===e&&(t.isLiked()?t.unlike():t.like()),t})))}})})," ",Object(m.jsx)(u.b,{exact:!0,path:"/new/:id",children:Object(m.jsx)(v,{validator:function(e){return-1!==l.findIndex((function(t){return t.id===e}))},onAddPost:function(e){if(e.id)!function(e){console.assert(h(e.id)),console.log(typeof e.id===typeof n[0].id);var t=n.find((function(t){return t.id===e.id})).isLiked(),i=new T(e.authorId,e.title,e.body,e.id);t&&i.like();s((function(t){return[i].concat(Object(r.a)(t.filter((function(t){return t.id!==e.id}))))}))}(e);else{var t=new T(e.authorId,e.title,e.body,Date.now());s((function(e){return[t].concat(Object(r.a)(e))}))}},posts:n})}),Object(m.jsx)(u.b,{exact:!0,path:"/posts/:id",children:Object(m.jsx)(I,{posts:n,authors:l})}),Object(m.jsx)(u.b,{exact:!0,path:"/authors",children:Object(m.jsx)(A,{authors:l})}),Object(m.jsx)(u.b,{exact:!0,path:"/authors/:id",children:Object(m.jsx)(w,{posts:n,authors:l})}),Object(m.jsx)(u.b,{exact:!0,path:"/about",component:x}),Object(m.jsx)(u.b,{exact:!0,path:"/posts",children:Object(m.jsx)(u.a,{to:"/"})}),Object(m.jsx)(u.b,{children:Object(m.jsx)(D,{message:"Page not found"})})]}),Object(m.jsx)(S,{})]}):Object(m.jsx)(K,{})};c.a.render(Object(m.jsx)(o.a,{children:Object(m.jsx)(V,{})}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.20e57637.chunk.js.map